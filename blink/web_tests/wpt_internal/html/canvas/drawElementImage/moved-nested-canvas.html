<!DOCTYPE html>
<title>drawElementImage should support rendering a nested canvas that was moved under the canvas</title>
<link rel="help" href="https://github.com/WICG/html-in-canvas">
<link rel="match" href="nested-canvas-ref.html">

<canvas id="canvas_a" layoutsubtree="true" width="100" height="100">
  <div id="div" style="width: 100px; height: 100px; background: radial-gradient(lightgreen, green);"></div>
</canvas>
<canvas id="canvas_b" layoutsubtree="true" width="100" height="100" style="background: red;">
</canvas>
<script>
  canvas_a.getContext('2d').drawElementImage(div, 0, 0, 100, 100);
  canvas_b.appendChild(canvas_a);
  canvas_b.getContext('2d').drawElementImage(canvas_a, 0, 0, 100, 100);
</script>
